  
  <!DOCTYPE html>
    
<html>

<head> 
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    .background{
        
        
        
    }
   .cardstyle {
  border: 5px outset #88ccd9;
  background-color: #fbf7f5;
  text-align: center;
        max-width: 500px; /* Limit the max width */
  margin: 0; 
} 
    .checkedin{
        border: 5px outset ;
  background-color: #fbf7f5;
  text-align: center;
        float: left;
  width: 200;
  border: 3px solid #96ceb4;
  padding: 30px;

        text-align: center; 
        
    }
    
    
        
.tittle{
        border: 5px outset ;
  background-color: #fbf7f5;
  text-align: center;
        float: left;
  width: 200px;
  border: 3px solid #96ceb4;
  padding: 

        text-align: center; 
        
    }
    
    
    .btn3{
        
         border: 5px outset #ff9c3e ;
        
    }
    
    .g{
        background-color: 		#e4f9fd;
         text-align: center; 
           border: 5px outset #fdf3c9 ;
    }
  .g2{
        background-color: 		#e4f9fd;
         text-align: center; 
           border: 5px outset #fdf3c9  ;
        max-width: 150px;
    }
    .container {
  display: flex;
  justify-content: space-between; 
  align-items: flex-start; 

}
     .rightside{

      background-color: #fbf7f5;
  border: 3px solid #96ceb4;
  padding: 20px;
  text-align: left;
  width: 500px;
  margin-left: 10px;
    }
</style>
       
       </head>
    <body>
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    
        
        
        
   <h1 class = "g">
         
        PROFILE 
    
        </h1>
        
     <nav class="navbar navbar-light" style="background-color: #E6DCA5;">
              
    <div class="container-fluid">
        
      <a class="navbar-brand" href="#"> Profile</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
       <button id="logoutBtn" class="btn">Logout</button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
            <a class="nav-link active" href="welcome.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="user.html">Profile</a>
                  
          </li>
          <li class="nav-item">
            <a class="nav-link" href="guest.html">Guest Register</a>
              
        </ul>
      </div>
    </div>
  </nav>
 <h1 class= "checkedin" > Hi, ken  </h1 >    
        <br>
        
        <h1 class =  "g">
             Demographics 
        </h1>
        <div class="container">
        <div class="rightside">
        <h3> Next billing date: 11/25/2026</h3>
         </div> 
        </div> 
        <br>

    
        
  <div class ="cardstyle">
      
    <form action="/update-demographics" method="POST" id="demo" class="p-4 border rounded bg-light" style="max-width: 500px; margin: auto;"> 
  <h4 class="mb-3">Demographic Info</h4>

  <div class="mb-3">
    <label for="demoName" class="form-label">Full Name</label> 
    <input type="text" class="form-control" id="demoName" required> 
  </div>

  <div class="mb-3">
    <label for="demoAge" class="form-label">Age</label> 
    <input type="number" class="form-control" id="demoAge" required> 
  </div>

  <div class="mb-3">
    <label for="demoPhone" class="form-label">Phone Number</label> 
    <input type="tel" class="form-control" id="demoPhone" required> 
  </div>

  <div class="mb-3">
    <label for="demoAddress" class="form-label">Address</label> 
    <textarea class="form-control" id="demoAddress" rows="2" required></textarea> 
  </div>

  <button type="button" class="btn3" onclick="updateDemo()">Update</button> 
</form>

<div id="guestInfoDisplay" class="mt-4 text-center"></div>


 
    </div>    
        
      
   <h1 class= "tittle">  Main gym </h1>    
        
    <br>
    
    <div class= "cardstyle">
       <form id="preferenceForm" class="p-4 border rounded bg-light" style="max-width: 500px; margin: auto;">
  <h4 class="mb-3">Select Your Preference</h4>

  <div class="form-check">
    <input class="form-check-input" type="radio" name="preference" id="gymdayNorth" value="Option 1" required>
    <label class="form-check-label" for="gymdayNorth">
     Gymday North
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" name="preference" id="gymdayCentral" value="Option 2">
    <label class="form-check-label" for="gymdayCentral">
      Gymday Central
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" name="preference" id="gymdayWest" value="Option 3">
    <label class="form-check-label" for="gymdayWest">
     Gymday West
    </label>
  </div>

  <button type="submit" class="btn3">Submit</button>
</form>
        
    </div>
    
        <h1 class= "tittle">  Add ammenities </h1>    
        
    <br>
    
    <div class= "cardstyle">
       
              
       
<form id="activityForm">
  <h5>Select Ammenties:</h5>

  <div>
    <input type="checkbox" id="wifi" name="preferences" value="Wi-Fi">
    <label for="wifi">Wi-Fi</label>
  </div>

  <div>
    <input type="checkbox" id="locker" name="preferences" value="locker">
    <label for="locker">locker</label>
  </div>

  <div>
    <input type="checkbox" id="pool" name="preferences" value="pool">
    <label for="pool"> Pool</label>
  </div>

  <button class = "btn3" type="submit">Submit</button>
</form>
    </div>
        
        
        
        
        <script>
     function updateDemo() {
     console.log(sessionStorage.getItem('username'));
            const username = sessionStorage.getItem('username');
         
  if (!username) {
    console.error('Username is not defined');
    alert('You must be logged in to update your information.');
    return;
  }
         
    const name = document.getElementById('demoName').value;
    const age = document.getElementById('demoAge').value;
    const phone = document.getElementById('demoPhone').value;
    const address = document.getElementById('demoAddress').value;
     
         
         fetch('/update-demographics', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        username, // include username to identify the user
        full_name: name,
        age: age,
        phone: phone,
        address: address
      })

    })
    .then(response => response.json())
    .then(data => {
      // On success, show updated information on the page
      if (data.message) {    
       const output = `
      <div class="card p-3 shadow-sm" style="max-width: 500px; margin: auto;">
        <h5 class="mb-3"> Info Updated:</h5>
        <p><strong>Name:</strong> ${name}</p>
        <p><strong>Age:</strong> ${age}</p>
        <p><strong>Phone:</strong> ${phone}</p>
        <p><strong>Address:</strong> ${address}</p>
      </div>
    `;

    document.getElementById('guestInfoDisplay').innerHTML = output;
  }       
            
         })
         
          .catch(error => console.error('Error updating user info:', error));
          alert('An error occurred while updating your information.');
  } 
      
            
            
            
  document.getElementById('logoutBtn').addEventListener('click', function () {
    // Send logout request to the server
    fetch('http://localhost:3000/logout', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
    })
    .then(response => response.json())
    .then(data => {
      if (data.message === 'Logged out successfully') {
        alert('You have logged out successfully!');
        window.location.href = '/';  // Redirect to the homepage (index.html) after logout
      }
    })
    .catch(error => {
      console.error('Logout error:', error);
    });
  });

            
            
  </script>
    </body>


</html> 


